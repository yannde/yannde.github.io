(function(e){function t(t){for(var s,r,c=t[0],o=t[1],l=t[2],g=0,d=[];g<c.length;g++)r=c[g],Object.prototype.hasOwnProperty.call(n,r)&&n[r]&&d.push(n[r][0]),n[r]=0;for(s in o)Object.prototype.hasOwnProperty.call(o,s)&&(e[s]=o[s]);u&&u(t);while(d.length)d.shift()();return i.push.apply(i,l||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],s=!0,c=1;c<a.length;c++){var o=a[c];0!==n[o]&&(s=!1)}s&&(i.splice(t--,1),e=r(r.s=a[0]))}return e}var s={},n={app:0},i=[];function r(t){if(s[t])return s[t].exports;var a=s[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=s,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)r.d(a,s,function(t){return e[t]}.bind(null,s));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/game/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],o=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var u=o;i.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"006e":function(e,t,a){"use strict";var s=a("00f0"),n=a.n(s);n.a},"00f0":function(e,t,a){},"0175":function(e,t,a){"use strict";var s=a("3ac7"),n=a.n(s);n.a},"072e":function(e,t,a){"use strict";var s=a("ec0a"),n=a.n(s);n.a},"0a3e":function(e,t,a){},"0ad7":function(e,t,a){"use strict";var s=a("c828"),n=a.n(s);n.a},1351:function(e,t,a){"use strict";var s=a("46db"),n=a.n(s);n.a},"3ac7":function(e,t,a){},"46db":function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d"),a("d5e8"),a("5363");var s=a("2b0e"),n=a("ce5b"),i=a.n(n);a("bf40");s["default"].use(i.a);var r=new i.a({theme:{options:{customProperties:!0},themes:{light:{primary:"#0d2b45",secondary:"#d08159",accent:"#544e68",error:"#6B120D",info:"#3B8A70",success:"#96C052",warning:"#D0AB59"}}}}),c=(a("907d"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("div",{attrs:{id:"app"}},[a("GameHeader"),a("div",{staticClass:"main"},[a("router-view")],1),a("GameFooter")],1)])}),o=[],l=a("5530"),u=a("2f62"),g=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"gameFooter"},[a("GameFooterSettings")],1)},d=[],m=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"gameFooterSettings"},[a("GameFooterColors",{staticClass:"gameFooterSettings_select",class:{"gameFooterSettings_select-active":"color"===e.select},attrs:{color:e.game.settings.color},on:{"update:color":function(t){return e.$set(e.game.settings,"color",t)},select:e.update}}),a("GameFooterValue",{staticClass:"gameFooterSettings_select",class:{"gameFooterSettings_select-active":"size"===e.select},attrs:{value:e.game.settings.size,type:"size"},on:{"update:value":function(t){return e.$set(e.game.settings,"size",t)},select:e.update}}),a("GameFooterValue",{staticClass:"gameFooterSettings_select",class:{"gameFooterSettings_select-active":"players"===e.select},attrs:{value:e.game.settings.players,type:"players"},on:{"update:value":function(t){return e.$set(e.game.settings,"players",t)},select:e.update}}),a("GameFooterValue",{staticClass:"gameFooterSettings_select",class:{"gameFooterSettings_select-active":"difficulty"===e.select},attrs:{value:e.game.settings.difficulty,type:"difficulty"},on:{"update:value":function(t){return e.$set(e.game.settings,"difficulty",t)},select:e.update}}),a("div",{staticClass:"gameFooterSettings_content_container"},[a("div",{staticClass:"gameFooterSettings_content"},[a("v-btn",{staticClass:"gameFooterSettings_link gameFooterSettings_link",attrs:{text:""},on:{click:function(t){return e.toSelect("color")}}},[a("div",{staticClass:"gameFooterSettings_color",class:["gameFooterSettings_color-"+e.game.settings.color]})]),a("v-btn",{staticClass:"gameFooterSettings_link gameFooterSettings_link",attrs:{text:""},on:{click:function(t){return e.toSelect("size")}}},[a("div",{staticClass:"gameFooterSettings_link_icon icon icon-board",class:["icon-board-"+e.game.settings.size]}),a("div",{staticClass:"gameFooterSettings_link_text"},[e._v("size")])]),a("v-btn",{staticClass:"gameFooterSettings_link gameFooterSettings_link",attrs:{text:""},on:{click:function(t){return e.toSelect("players")}}},[a("div",{staticClass:"gameFooterSettings_link_icon gameFooterSettings_link_icon-players icon icon-players"},[a("span",{staticClass:"gameFooterSettings_link_icon_text"},[e._v(e._s(e.game.settings.players))])]),a("div",{staticClass:"gameFooterSettings_link_text"},[e._v("players")])]),a("v-btn",{staticClass:"gameFooterSettings_link gameFooterSettings_link",attrs:{text:""},on:{click:function(t){return e.toSelect("difficulty")}}},[a("div",{staticClass:"gameFooterSettings_link_icon icon icon-difficulty",class:["icon-difficulty-"+e.game.settings.difficulty]}),a("div",{staticClass:"gameFooterSettings_link_text"},[e._v("level")])]),a("v-btn",{staticClass:"gameFooterSettings_link gameFooterSettings_link",attrs:{text:""},on:{click:e.newGame}},[a("div",{staticClass:"gameFooterSettings_link_icon icon icon-dices"},[a("span",{staticClass:"gameFooterSettings_link_icon_text"})]),a("div",{staticClass:"gameFooterSettings_link_text"},[e._v("play")])])],1)]),a("v-overlay",{attrs:{value:!!e.select,"z-index":1},nativeOn:{click:function(t){return e.toSelect(null)}}})],1)},f=[],h=(a("99af"),a("4de4"),a("c740"),a("4160"),a("a630"),a("caad"),a("c975"),a("d81d"),a("13d5"),a("a434"),a("d3b7"),a("2532"),a("3ca3"),a("159b"),a("ddb0"),a("d4ec")),v=a("bee2"),p={board:[],selected:null,defender:null,player:{},players:[],adjacents:[],settings:{players:4,size:4,difficulty:0,color:1},results:{},busy:!0,status:0},_={getBoard:function(){return JSON.parse(JSON.stringify(p.board))},getCell:function(e){return JSON.parse(JSON.stringify(p.board[e]))},getSelected:function(){return JSON.parse(JSON.stringify(p.selected))},getDefender:function(){return JSON.parse(JSON.stringify(p.defender))},getPlayer:function(){return JSON.parse(JSON.stringify(p.player))},getPlayers:function(){return JSON.parse(JSON.stringify(p.players))},getAdjacents:function(){return JSON.parse(JSON.stringify(p.adjacents))},getSettings:function(){return JSON.parse(JSON.stringify(p.settings))},getResults:function(){return JSON.parse(JSON.stringify(p.results))},getBusy:function(){return JSON.parse(JSON.stringify(p.busy))},getStatus:function(){return JSON.parse(JSON.stringify(p.status))}},y={setBoard:function(e,t){e.board=t},setCell:function(e,t){s["default"].set(e.board,t.i,t.data)},setSelected:function(e,t){e.selected=t},setDefender:function(e,t){e.defender=t},setPlayer:function(e,t){e.player=t},setPlayers:function(e,t){e.players=t},setAdjacents:function(e,t){e.adjacents=t},setSetting:function(e,t){e.settings=Object(l["a"])(Object(l["a"])({},e.settings),t)},setSettings:function(e,t){e.settings=t},setResults:function(e,t){e.results=t},setBusy:function(e,t){e.busy=t},setStatus:function(e,t){e.status=t}},b={changeBoard:function(e,t){var a=e.commit;a("setBoard",t)},changeCell:function(e,t){var a=e.commit;a("setCell",t)},changeSelected:function(e,t){var a=e.commit;a("setSelected",t)},changeDefender:function(e,t){var a=e.commit;a("setDefender",t)},changePlayer:function(e,t){var a=e.commit;a("setPlayer",t)},changePlayers:function(e,t){var a=e.commit;a("setPlayers",t)},changeAdjacents:function(e,t){var a=e.commit;a("setAdjacents",t)},changeSetting:function(e,t){var a=e.commit;a("setSetting",t)},changeSettings:function(e,t){var a=e.commit;a("setSettings",t)},changeResults:function(e,t){var a=e.commit;a("setResults",t)},changeBusy:function(e,t){var a=e.commit;a("setBusy",t)},changeStatus:function(e,t){var a=e.commit;a("setStatus",t)}},S={namespaced:!0,state:p,getters:_,actions:b,mutations:y},C={isMobile:!1},w={getIsMobile:function(){return JSON.parse(JSON.stringify(C.isMobile))}},k={setIsMobile:function(e,t){e.isMobile=t}},O={changeIsMobile:function(e,t){var a=e.commit;a("setIsMobile",t)}},F={namespaced:!0,state:C,getters:w,actions:O,mutations:k};s["default"].use(u["a"]);var x=new u["a"].Store({state:{},mutations:{},actions:{},modules:{game:S,settings:F}}),j=[[.837963,.443673,.152006,.03588,.006105,766e-6,71e-6,5e-6],[.972994,.778549,.453575,.191701,.060713,.014879,.00289,452e-6],[.997299,.939236,.742831,.459528,.220442,.083423,.02545,.006379],[.99985,.98794,.909347,.718078,.463654,.242449,.103626,.036742],[.999996,.998217,.9753,.883953,.699616,.466731,.259984,.121507],[1,.999801,.994663,.961536,.862377,.685165,.469139,.274376],[1,.999983,.999069,.989534,.947731,.843874,.673456,.471091]],G=[[.675926,.331019,-.391976,-.8206,-.96337,-.994638,-.999432,-.999955],[.918982,1.114196,.267875,-.849794,-1.575009,-1.880968,-1.97399,-1.99548],[.989196,1.69618,1.456986,.216696,-1.236464,-2.249193,-2.7455,-2.929831],[.99925,1.92764,2.365429,1.744624,.172886,-1.57551,-2.860114,-3.559096],[.999976,1.987519,2.8024,2.955577,1.99616,.134041,-1.880192,-3.420409],[1,1.998408,2.951967,3.61536,3.486147,2.22198,.098807,-2.158736],[1,1.999847,2.99069,3.884874,4.372772,3.970362,2.428384,.066365]],M=[{name:"16",value:4},{name:"25",value:5},{name:"36",value:6}],z=[{name:"normal",value:0},{name:"hard",value:1}],P=[{name:2,value:2},{name:3,value:3},{name:4,value:4},{name:5,value:5},{name:6,value:6},{name:7,value:7},{name:8,value:8}],N=function(){function e(){Object(h["a"])(this,e)}return Object(v["a"])(e,[{key:"aiMove",value:function(e){var t=x.getters["game/getPlayer"],a=x.getters["game/getBoard"],s=x.getters["game/getAdjacents"],n=x.getters["game/getSettings"],i=a.filter((function(e){return e.owner===t.id&&e.dice>1})),r=-8*t.cells+t.total+t.size+t.reserve,c=.52-.12*t.aggresive;n.difficulty>0&&(c+=Math.min(e,5)*(.2-.08*t.aggresive)),(r>=0||t.size>Math.pow(n.size,1.4))&&(c=Math.min(c,.44));var o=[];return 0!==i.length&&(i.forEach((function(e){s[e.id].forEach((function(s){var n=a[s];if(n.owner!==t.id){var i=j[e.dice-2][n.dice-1],r=G[e.dice-2][n.dice-1];if(i>c){var l={attacker:e.id,defender:s,owner:n.owner,probability:i,gainProbability:r,weighedBenefit:1};o.push(l)}}}))})),n.difficulty>0&&(o=this.attackBiggest(o),o=this.simulateMoves(o)),0!==o.length&&(o.sort((function(e,t){return e.gainProbability<t.gainProbability?1:-1})),o.sort((function(e,t){return e.weighedBenefit<t.weighedBenefit?1:-1})),o[0]))}},{key:"attackBiggest",value:function(e){var t=x.getters["game/getPlayer"],a=x.getters["game/getPlayers"],s=x.getters["game/getSettings"],n=Math.pow(s.size,2)/2+Math.round(-2*t.aggresive+1),i=a.filter((function(e){return e.id!==t.id&&e.size>=n}));return i.length?e.filter((function(e){return e.owner===i[0].id})):e.map((function(e){var t=a.filter((function(t){return t.id===e.owner}))[0].size;return e.weighedBenefit=.8+Math.pow(s.size,2)/2/t*.4,e}))}},{key:"simulateMoves",value:function(e){var t=this,a=x.getters["game/getPlayer"],s=x.getters["game/getBoard"];return e.forEach((function(e){var n=JSON.parse(JSON.stringify(s));n[e.defender].dice=n[e.attacker].dice-1,n[e.defender].owner=a.id,n[e.attacker].dice=1,e.gain=t.calculateMoveResult(n,a.id),e.lose=-1*t.calculateMoveResult(n,e.owner),e.benefit=e.gain*(-2*a.aggresive+2.5)+e.lose,e.weighedBenefit*=e.benefit*(e.probability+2)})),e}},{key:"calculateMoveResult",value:function(e,t){var a=x.getters["game/getAdjacents"],s=x.getters["game/getPlayers"],n=[];e.forEach((function(e,a){e.owner===t&&n.push(a)}));for(var i=1,r=0;r<n.length;r++)n[r]>-1&&function(){var e=[];e.push(n[r]),delete n[r];for(var t=0;t<e.length;t++)a[e[t]].forEach((function(t){if(n.includes(t)){e.push(t);var a=n.indexOf(t);delete n[a]}}));i=Math.max(e.length,i)}();var c=s[s.findIndex((function(e){return e.id===t}))];return c?i-c.size:-1}}]),e}(),D=new N,$=function(){function e(){Object(h["a"])(this,e)}return Object(v["a"])(e,[{key:"changeBoard",value:function(){var e=x.getters["game/getSettings"],t=[],a=[],s=Math.pow(e.size,2),n=Math.floor(s/e.players),i=s%e.players,r=e.color<e.players?Array.from(Array(e.players).keys()):Array.from(Array(e.players-1).keys()).concat([e.color]);r.unshift(r.splice(r.indexOf(e.color),1)[0]),r.forEach((function(e){for(var s=[],r=0,c=e-i<0?n+1:n,o=0;o<c;o++){var l=3*Math.random();r+=l,s.push(l)}var u=2*c/r*(n/c);s=s.map((function(e){return 1+Math.floor(e*u)}));var g=s.reduce((function(e,t){return e+t}),0),d={id:e,cells:c,total:g};a.push(d);for(var m=0;m<c;m++)t.push({owner:e,dice:s[m]})})),t=t.sort((function(){return Math.random()-.5})),t=t.map((function(e,t){return e.id=t,e})),this.setAdjacents(),x.dispatch("game/changeBoard",t),x.dispatch("game/changePlayers",a)}},{key:"newGame",value:function(){var e=this,t=x.getters["game/getSettings"];this.changeBoard();var a=x.getters["game/getPlayers"].map((function(a){return a.human=a.id===t.color,a.size=e.calculateAdd(a.id),a.reserve=0,a.aggresive=t.difficulty>0?Math.round(100*Math.random())/100:.5,a}));t.difficulty>0&&(a=a.sort((function(){return Math.random()-.5}))),x.dispatch("game/changePlayer",a[0]),x.dispatch("game/changePlayers",a),x.dispatch("game/changeSelected",null),x.dispatch("game/changeResults",{}),x.dispatch("game/changeStatus",0),x.dispatch("game/changeBusy",!0)}},{key:"startGame",value:function(){var e=x.getters["game/getPlayer"];x.dispatch("game/changeStatus",1),e.human?x.dispatch("game/changeBusy",!1):this.aiMoves(0)}},{key:"setAdjacents",value:function(){for(var e=x.getters["game/getSettings"].size,t=[],a=Math.pow(e,2),s=0;s<a;s++){var n=[];s%e&&n.push(s-1),(s+1)%e&&n.push(s+1),s>=e&&n.push(s-e),s<e*e-e&&n.push(s+e),t.push(n)}x.dispatch("game/changeAdjacents",t)}},{key:"changeSelected",value:function(e){x.dispatch("game/changeSelected",e)}},{key:"changePlayer",value:function(e){x.dispatch("game/changePlayer",e)}},{key:"attack",value:function(e){var t=this;return new Promise((function(a){var s=x.getters["game/getSelected"],n=x.getters["game/getBoard"],i=n[s],r=n[e],c=t.dice(i.dice),o=t.dice(r.dice),l=r.owner;c.cell=s,o.cell=e,x.dispatch("game/changeResults",{attacker:i.owner,defender:l,attackerDice:c,defenderDice:o}),x.dispatch("game/changeDefender",e),0===i.owner&&x.dispatch("game/changeBusy",!0),setTimeout((function(){x.dispatch("game/changeDefender",null),c.total>o.total?(r.dice=i.dice-1,r.owner=i.owner,x.dispatch("game/changeCell",{i:e,data:r}),t.checkLost(l)||(r.dice>1?x.dispatch("game/changeSelected",e):x.dispatch("game/changeSelected",null),t.calculateAdd(l))):x.dispatch("game/changeSelected",null),t.calculateAdd(i.owner),i.dice=1,x.dispatch("game/changeCell",{i:s,data:i}),0===i.owner&&x.dispatch("game/changeBusy",!1),a({status:200})}),500)}))}},{key:"dice",value:function(e){for(var t=0,a=[],s=0;s<e;s++){var n=Math.floor(6*Math.random())+1;a.push(n),t+=n}return{total:t,dice:a}}},{key:"checkLost",value:function(e){var t=x.getters["game/getBoard"],a=x.getters["game/getPlayers"];if(!t.filter((function(t){return t.owner===e})).length){var s=a.findIndex((function(t){return t.id===e}));if(a[s].human&&(x.dispatch("game/changeStatus",2),x.dispatch("game/changeSelected",null)),a.splice(s,1),x.dispatch("game/changePlayers",a),1===a.length)return x.dispatch("game/changeSelected",null),a[0].human&&x.dispatch("game/changeStatus",3),!0}return!1}},{key:"nextPlayer",value:function(){this.applyAdd();var e=x.getters["game/getPlayer"],t=x.getters["game/getPlayers"],a=t.findIndex((function(t){return t.id===e.id})),s=t[(a+1)%t.length];x.dispatch("game/changePlayer",s),x.dispatch("game/changeSelected",null),s.human?x.dispatch("game/changeBusy",!1):(x.dispatch("game/changeBusy",!0),this.aiMoves(0))}},{key:"aiMoves",value:function(e){var t=this,a=D.aiMove(e);if(!1!==a){var s=x.getters["game/getSelected"],n=a.attacker!==s?750:10;setTimeout((function(){a.attacker!==s&&t.changeSelected(a.attacker),setTimeout((function(){var s=t;t.attack(a.defender).then((function(t){2!==x.getters["game/getStatus"]&&s.aiMoves(++e)}))}),200)}),n)}else this.nextPlayer()}},{key:"getPlayerCells",value:function(e){var t=[];return x.getters["game/getBoard"].forEach((function(a,s){a.owner===e&&t.push(s)})),t}},{key:"calculateAdd",value:function(e){for(var t=x.getters["game/getAdjacents"],a=x.getters["game/getPlayers"],s=x.getters["game/getBoard"],n=this.getPlayerCells(e),i=1,r=n.reduce((function(e,t){return e+s[t].dice}),0),c=n.length,o=0;o<n.length;o++)n[o]>-1&&function(){var e=[];e.push(n[o]),delete n[o];for(var a=0;a<e.length;a++)t[e[a]].forEach((function(t){if(n.includes(t)){e.push(t);var a=n.indexOf(t);delete n[a]}}));i=Math.max(e.length,i)}();var l=a[a.findIndex((function(t){return t.id===e}))];if(l){l.size=i,l.total=r,l.cells=c,x.dispatch("game/changePlayers",a);var u=x.getters["game/getPlayer"];l.id===u.id&&x.dispatch("game/changePlayer",l)}return i}},{key:"applyAdd",value:function(){var e=x.getters["game/getBoard"],t=x.getters["game/getPlayer"],a=this.getPlayerCells(t.id),s=+t.size+t.reserve;for(s;s>0&&a.length;s--){var n=a[Math.floor(Math.random()*a.length)];e[n].dice>7?(a.splice(a.indexOf(n),1),s++):e[n].dice++}t.reserve=s;var i=x.getters["game/getPlayers"];i[i.findIndex((function(e){return e.id===t.id}))]=t,x.dispatch("game/changePlayers",i),x.dispatch("game/changeBoard",e)}}]),e}(),B=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{ref:"gameFooterSelect",staticClass:"gameFooterSelect",on:{"&scroll":function(t){return e.onScroll(t)},touchend:e.onScrollEnd}},[a("div",{staticClass:"gameFooterSelect_padding"}),e._l(8,(function(t,s){return a("div",{directives:[{name:"ripple",rawName:"v-ripple"}],key:s,staticClass:"gameFooterSelect_select",on:{click:function(t){return e.select(s)}}},[a("div",{staticClass:"gameFooterSelect_select_content",style:{transform:e.getTransform(s)}},[a("div",{staticClass:"gameFooterSelect_color",class:["gameFooterSelect_color-"+s]})])])})),a("div",{staticClass:"gameFooterSelect_padding"})],2)])},E=[],A={name:"GameFooterColors",computed:Object(u["c"])({settings:function(e){return e.game.settings}}),props:{color:{default:1}},data:function(){return{selected:0,zoom:1.5,next:1,zoomNext:1}},mounted:function(){this.selected=this.color,this.$refs.gameFooterSelect.scrollTo({top:0,left:80*this.color})},methods:{select:function(e){this.$refs.gameFooterSelect.scrollTo({top:0,left:80*e,behavior:"smooth"}),this.$emit("update:color",e),this.$emit("select",!0)},onScroll:function(e){var t=e.srcElement.scrollLeft/80,a=Math.round(t);this.selected!==a&&(this.selected=a,this.$emit("update:color",this.selected));var s=t-this.selected;this.next=s>0?this.selected+1:this.selected-1,s=Math.abs(s),this.zoom=1.5-s/2,this.zoomNext=1+s/2},onScrollEnd:function(){var e=this;if(this.pos-this.$refs.gameFooterSelect.scrollLeft)return this.pos=this.$refs.gameFooterSelect.scrollLeft,void setTimeout((function(){e.onScrollEnd()}),100);this.pos=this.$refs.gameFooterSelect.scrollLeft;var t=80*this.selected;this.$refs.gameFooterSelect.scrollTo({top:0,left:t,behavior:"smooth"})},getTransform:function(e){switch(e){case this.selected:return"scale("+this.zoom+")";case this.next:return"scale("+this.zoomNext+")"}return"scale(1)"}}},J=A,T=(a("8caa"),a("2877")),R=Object(T["a"])(J,B,E,!1,null,null,null),I=R.exports,L=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{ref:"gameFooterSelect",staticClass:"gameFooterSelect",on:{"&scroll":function(t){return e.onScroll(t)},touchend:e.onScrollEnd}},[a("div",{staticClass:"gameFooterSelect_padding"}),e._l(e.val,(function(t,s){return a("div",{directives:[{name:"ripple",rawName:"v-ripple"}],key:t.value,ref:"select-"+s,refInFor:!0,staticClass:"gameFooterSelect_select",on:{click:function(a){return e.select(t.value,s)}}},[a("div",{staticClass:"gameFooterSelect_select_content",style:{transform:e.getTransform(s)}},["size"===e.type?a("span",{staticClass:"gameFooterSelect_select_icon icon",class:["icon-board-"+t.value]},[a("span",{staticClass:"gameFooterSelect_select_text"},[e._v(e._s(t.value))])]):"difficulty"===e.type?a("span",{staticClass:"gameFooterSelect_select_icon icon",class:["icon-difficulty-"+t.value]}):[e._v(e._s(t.name))]],2)])})),a("div",{staticClass:"gameFooterSelect_padding"})],2)])},H=[],q={name:"GameFooterValue",props:{type:{default:"size"},value:{default:1}},computed:Object(u["c"])({settings:function(e){return e.game.settings},val:function(){var e=M;switch(this.type){case"players":e=P;break;case"difficulty":e=z;break}return e}}),data:function(){return{boardSizes:M,difficulties:z,players:P,selected:0,zoom:1.5,next:1,zoomNext:1,pos:0}},mounted:function(){this.selected=this.value,this.$refs.gameFooterSelect.scrollTo({top:0,left:80*this.value})},methods:{select:function(e,t){var a=80*t;this.$refs.gameFooterSelect.scrollTo({top:0,left:a,behavior:"smooth"}),this.$emit("update:value",e),this.$emit("select",!0)},onScroll:function(e){var t=e.srcElement.scrollLeft/80,a=Math.round(t);this.selected!==a&&(this.selected=a,this.$emit("update:value",this.val[a].value));var s=t-this.selected;this.next=s>0?this.selected+1:this.selected-1,s=Math.abs(s),this.zoom=1.5-s/2,this.zoomNext=1+s/2},onScrollEnd:function(){var e=this;if(this.pos-this.$refs.gameFooterSelect.scrollLeft)return this.pos=this.$refs.gameFooterSelect.scrollLeft,void setTimeout((function(){e.onScrollEnd()}),50);this.pos=this.$refs.gameFooterSelect.scrollLeft;var t=80*this.selected;this.$refs.gameFooterSelect.scrollTo({top:0,left:t,behavior:"smooth"})},getTransform:function(e){switch(e){case this.selected:return"scale("+this.zoom+")";case this.next:return"scale("+this.zoomNext+")"}return"scale(1)"}}},V=q,Y=Object(T["a"])(V,L,H,!1,null,null,null),W=Y.exports,U={name:"GameFooterSettings",components:{GameFooterColors:I,GameFooterValue:W},computed:Object(u["c"])({settings:function(e){return e.game.settings}}),data:function(){return{gameService:new $,game:{settings:{}},select:null,color:1}},mounted:function(){this.$set(this.game,"settings",JSON.parse(JSON.stringify(this.settings)))},methods:Object(l["a"])({toSelect:function(e){this.select=e},update:function(){setTimeout((function(e){e.select=null}),300,this)},newGame:function(){this.select=null,this.gameService.newGame()}},Object(u["b"])("game",["changeSettings"]))},K=U,Q=(a("0175"),Object(T["a"])(K,m,f,!1,null,null,null)),X=Q.exports,Z={name:"GameFooter",components:{GameFooterSettings:X},computed:Object(u["c"])({settings:function(e){return e.game.settings}})},ee=Z,te=(a("0ad7"),Object(T["a"])(ee,g,d,!1,null,null,null)),ae=te.exports,se=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},ne=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"gameHeader"},[a("div",{staticClass:"gameHeader_content"},[a("span",{staticClass:"gameHeader_icon icon icon-dices"}),a("span",{staticClass:"gameHeader_text"},[e._v("Dice Game")])])])}],ie={name:"GameHeader",computed:Object(u["c"])({}),data:function(){return{}},methods:{}},re=ie,ce=(a("596d"),Object(T["a"])(re,se,ne,!1,null,"c05ad972",null)),oe=ce.exports,le={name:"App",components:{GameFooter:ae,GameHeader:oe},computed:Object(u["c"])({isMobile:function(e){return e.settings.isMobile}}),created:function(){this.$nextTick((function(){window.addEventListener("resize",this.setMobile),this.setMobile()}))},methods:Object(l["a"])({setMobile:function(e){var t=document.documentElement.clientWidth<768;t!==this.isMobile&&this.changeIsMobile(t)}},Object(u["b"])("settings",["changeIsMobile"]))},ue=le,ge=(a("5c0b"),Object(T["a"])(ue,c,o,!1,null,null,null)),de=ge.exports,me=a("9483");Object(me["a"])("".concat("/game/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var fe=a("8c4f"),he=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},ve=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"rules"},[a("h1",[e._v("Rules")]),a("ul",[a("li",[e._v("The player who holds all the squares in the grid wins")]),a("li",[e._v("You can attack any adjecent square held by another color if you have at least 2 dices")]),a("li",[e._v("After each turn dices will be randomly added to your squares "),a("ul",[a("li",[e._v("The amount is determined by the largest group of adjecent squares you have")]),a("li",[e._v("The maximum amount is 8 dices in a square")]),a("li",[e._v("If more dices can't be added the remaining will be held in reserve to use later")])])])])])}],pe={},_e=Object(T["a"])(pe,he,ve,!1,null,null,null),ye=_e.exports,be=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"game",on:{click:e.unselect}},[a("div",{staticClass:"game_board",class:["game_board-size-"+e.game.settings.size,{"game_board-busy":e.game.busy}],on:{click:e.boardClick}},e._l(e.game.board,(function(t,s){return a("div",{directives:[{name:"ripple",rawName:"v-ripple"}],key:s,staticClass:"game_cell",class:[{"game_cell-selectable":e.selectable(s,t.owner,t.dice)},{"game_cell-selected":s===e.game.selected},{"game_cell-borderTop":e.borderTop(s,t.owner)},{"game_cell-borderRight":e.borderRight(s,t.owner)},{"game_cell-borderBottom":e.borderBottom(s,t.owner)},{"game_cell-borderLeft":e.borderLeft(s,t.owner)},"game_cell-defender-"+e.isAttacked(s),"game_cell-owner-"+t.owner],attrs:{depressed:s!==e.game.selected},on:{click:function(a){return e.select(s,t.owner)}}},[a("div",{staticClass:"game_cell_dices"},[a("div",{staticClass:"game_cell_dices_left"},e._l(Math.min(t.dice,4),(function(e,t){return a("div",{key:t,staticClass:"game_cell_dice"})})),0),t.dice>4?a("div",{staticClass:"game_cell_dices_right"},e._l(t.dice-4,(function(e,t){return a("div",{key:t,staticClass:"game_cell_dice"})})),0):e._e()])])})),0),0===e.game.board.length?a("GameStart"):e._e(),a("GameControls")],1)},Se=[],Ce=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{"max-width":"508",fullscreen:e.isMobile},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on;return[a("div",e._g({directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"gameStart"},s),[a("div",{staticClass:"gameStart_label"},[e._v("Board Size")]),a("div",{staticClass:"gameStart_value"},[e._v(e._s(Math.pow(e.settings.size,2)))]),a("div",{staticClass:"gameStart_label"},[e._v("Players")]),a("div",{staticClass:"gameStart_value"},[e._v(e._s(e.settings.players))]),a("div",{staticClass:"gameStart_label"},[e._v("Difficulty")]),a("div",{staticClass:"gameStart_value"},[e._v(e._s(0===e.settings.difficulty?"Normal":"Hard"))]),a("div",{staticClass:"gameStart_label"},[e._v("Color")]),a("div",{staticClass:"gameStart_color",class:["gameStart_color-"+e.settings.color]})])]}}]),model:{value:e.newGameDialog,callback:function(t){e.newGameDialog=t},expression:"newGameDialog"}},[a("GameDialog",{on:{close:function(t){e.newGameDialog=!1}}})],1)},we=[],ke=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{staticClass:"gameDialog"},[a("v-card-title",{staticClass:"headline"},[e._v("New Game")]),a("v-card-text",[a("v-radio-group",{staticClass:"gameDialog_radioGroup",attrs:{label:"BoardSize",value:e.game.settings.size,color:"secondary"},on:{change:function(t){return e.update("size",t)}}},e._l(e.boardSizes,(function(e){return a("v-radio",{key:e.value,staticClass:"gameDialog_radio",attrs:{label:e.name,value:e.value,color:"secondary"}})})),1),a("v-slider",{staticClass:"gameDialog_slider",attrs:{label:"Players",value:e.game.settings.players,min:"2",max:"8",color:"secondary","thumb-label":"always"},on:{change:function(t){return e.update("players",t)}}}),a("v-radio-group",{staticClass:"gameDialog_radioGroup",attrs:{label:"Difficulty",value:e.game.settings.difficulty,color:"secondary"},on:{change:function(t){return e.update("difficulty",t)}}},e._l(e.difficulties,(function(e){return a("v-radio",{key:e.value,staticClass:"gameDialog_radio",attrs:{label:e.name,value:e.value,color:"secondary"}})})),1),a("legend",{staticClass:"v-label theme--dark"},[e._v("Color")]),a("div",{staticClass:"gameDialog_colors"},e._l(8,(function(t,s){return a("div",{directives:[{name:"ripple",rawName:"v-ripple"}],key:s,staticClass:"gameDialog_color",class:{"gameDialog_color-active":+s===+e.game.settings.color},on:{click:function(t){return e.update("color",s)}}},[a("div",{staticClass:"gameDialog_color_color",class:["gameDialog_color-"+s]})])})),0)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{large:"",text:""},on:{click:e.close}},[e._v("Cancel")]),a("v-btn",{attrs:{color:"secondary",large:""},on:{click:e.newGame}},[e._v("Start")])],1)],1)},Oe=[],Fe={name:"GameDialog",computed:Object(u["c"])({settings:function(e){return e.game.settings}}),data:function(){return{gameService:new $,firstName:"test",game:{settings:{}},boardSizes:M,difficulties:z}},mounted:function(){this.$set(this.game,"settings",JSON.parse(JSON.stringify(this.settings)))},methods:Object(l["a"])({newGame:function(){this.changeSettings(this.game.settings),this.gameService.newGame(),this.$emit("close",!0)},close:function(){this.$emit("close",!0)},update:function(e,t){this.$set(this.game.settings,e,t)}},Object(u["b"])("game",["changeSettings"]))},xe=Fe,je=(a("006e"),Object(T["a"])(xe,ke,Oe,!1,null,null,null)),Ge=je.exports,Me={name:"GameStart",components:{GameDialog:Ge},computed:Object(u["c"])({settings:function(e){return e.game.settings},isMobile:function(e){return e.settings.isMobile}}),data:function(){return{gameService:new $,newGameDialog:!1}},methods:{newGame:function(){this.newGameDialog=!1,this.gameService.newGame()}}},ze=Me,Pe=(a("fecc"),Object(T["a"])(ze,Ce,we,!1,null,"049dfe64",null)),Ne=Pe.exports,De=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"controls"},[a("GameResults"),a("div",{staticClass:"controls_players"},e._l(e.game.players,(function(t){return a("div",{key:t.id,staticClass:"controls_player",class:{"controls_player-active":t.id===e.game.player.id}},[a("div",{staticClass:"controls_player_color",class:[{"controls_player_color-player":t.id===e.game.settings.color},"controls_player_color-"+t.id]},[e._v(e._s(t.size))]),a("div",{staticClass:"controls_player_reserve"},[e._v("(+"+e._s(t.reserve)+")")])])})),0),a("div",{staticClass:"controls_actions"},[a("v-btn",{staticClass:"controls_actions_btn",attrs:{color:"secondary",disabled:e.game.players.length<2||e.game.busy,large:""},on:{click:e.next}},[e._v("Next Turn")])],1)],1)},$e=[],Be=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"results_container",class:{"results_container-active":e.resultsActive},on:{click:function(t){e.resultsActive=!1}}},[e.game.players.length>1&&e.game.player&&e.game.results.attacker===e.game.player.id&&1===e.game.status&&(e.game.results.attackerDice.cell===e.game.selected||e.game.results.defenderDice.cell===e.game.selected||null===e.game.selected)?[a("div",{staticClass:"results"},[a("div",{staticClass:"results_side results_side-attacker",class:{"results_side-win":e.game.results.attackerDice.total>e.game.results.defenderDice.total}},[a("div",{staticClass:"results_result"},[a("div",{staticClass:"results_dices"},e._l(e.game.results.attackerDice.dice,(function(e,t){return a("div",{key:t,staticClass:"results_dice",class:["results_dice-"+e]})})),0)]),a("div",{staticClass:"results_color",class:[{"results_color-player":e.game.results.attacker===e.game.settings.color},"results_color-"+e.game.results.attacker]},[e._v(e._s(e.game.results.attackerDice.total))])]),a("div",{staticClass:"results_vs"},[e._v("VS")]),a("div",{staticClass:"results_side results_side-defender",class:{"results_side-win":e.game.results.attackerDice.total<=e.game.results.defenderDice.total}},[a("div",{staticClass:"results_color",class:[{"results_color-player":e.game.results.defender===e.game.settings.color},"results_color-"+e.game.results.defender]},[e._v(e._s(e.game.results.defenderDice.total))]),a("div",{staticClass:"results_result"},[a("div",{staticClass:"results_dices"},e._l(e.game.results.defenderDice.dice,(function(e,t){return a("div",{key:t,staticClass:"results_dice",class:["results_dice-"+e]})})),0)])])])]:e._e(),e.game.players.length>1&&0===e.game.status?a("div",{staticClass:"results_message"},[a("v-btn",{staticClass:"results_message_btn",attrs:{color:"secondary",large:""},on:{click:e.start}},[e._v("Start")])],1):e._e(),2===e.game.status?a("div",{staticClass:"results_message"},[a("div",{staticClass:"results_color results_color-0"}),a("div",{staticClass:"results_message_text results_message_text-lose"},[e._v("You lost,")]),a("v-btn",{staticClass:"results_message_btn",attrs:{color:"secondary",large:""},on:{click:e.newGame}},[e._v("Get Revenge!")])],1):3===e.game.status?a("div",{staticClass:"results_message"},[a("div",{staticClass:"results_color",class:["results_color-"+e.game.results.attacker]}),a("div",{staticClass:"results_message_text results_message_text-win"},[e._v("YOU WIN!")]),a("v-btn",{staticClass:"results_message_btn",attrs:{color:"secondary",large:""},on:{click:e.newGame}},[e._v(e._s(0===e.game.settings.difficulty?"TOO EASY!":"WIN MORE!"))])],1):e._e()],2)},Ee=[],Ae={name:"GameControls",computed:Object(u["c"])({game:function(e){return e.game},gameResults:function(e){return e.game.results}}),data:function(){return{gameService:new $,resultsActive:!1}},methods:Object(l["a"])({newGame:function(){0===this.game.settings.difficulty&&this.changeSetting({difficulty:1}),this.gameService.newGame()},start:function(){this.gameService.startGame()}},Object(u["b"])("game",["changeSetting"])),watch:{gameResults:function(){this.resultsActive=!0}}},Je=Ae,Te=(a("072e"),Object(T["a"])(Je,Be,Ee,!1,null,"4ee79f36",null)),Re=Te.exports,Ie={name:"GameControls",components:{GameResults:Re},computed:Object(u["c"])({game:function(e){return e.game},isMobile:function(e){return e.settings.isMobile}}),data:function(){return{gameService:new $,newGameDialog:!1}},methods:{next:function(){this.gameService.nextPlayer()},newGame:function(){this.newGameDialog=!1,this.gameService.newGame()}}},Le=Ie,He=(a("1351"),Object(T["a"])(Le,De,$e,!1,null,"49fef0c8",null)),qe=He.exports,Ve={name:"Game",components:{GameStart:Ne,GameControls:qe},computed:Object(u["c"])({game:function(e){return e.game}}),data:function(){return{gameService:new $}},methods:Object(l["a"])({select:function(e,t){e===this.game.selected?this.unselect():t===this.game.player.id?this.gameService.changeSelected(e):this.gameService.attack(e)},selectable:function(e,t,a){var s=t===this.game.player.id&&a>1,n=null!==this.game.selected&&this.game.adjacents[this.game.selected].includes(e);return s||n},boardClick:function(e){e.stopPropagation(),this.game.board.length<1&&this.gameService.newGame()},unselect:function(){this.changeSelected(null)},borderTop:function(e,t){var a=e-this.game.settings.size;return!(e>=this.game.settings.size&&this.game.board[a]&&this.game.board[a].owner===t)},borderRight:function(e,t){var a=e+1;return!(a%this.game.settings.size&&this.game.board[a]&&this.game.board[a].owner===t)},borderBottom:function(e,t){var a=e+this.game.settings.size;return!(e<this.game.settings.size*(this.game.settings.size-1)&&this.game.board[a]&&this.game.board[a].owner===t)},borderLeft:function(e,t){var a=e-1;return!(e%this.game.settings.size&&this.game.board[a]&&this.game.board[a].owner===t)},isAttacked:function(e){return e===this.game.defender&&(this.game.defender+1===this.game.selected?"right game_cell-defender":this.game.defender-1===this.game.selected?"left game_cell-defender":this.game.defender<this.game.selected?"bottom game_cell-defender":this.game.defender>this.game.selected?"top game_cell-defender":void 0)}},Object(u["b"])("game",["changeSelected"]))},Ye=Ve,We=(a("e9a7"),Object(T["a"])(Ye,be,Se,!1,null,"8fc2da70",null)),Ue=We.exports;s["default"].use(fe["a"]);var Ke=[{path:"/",name:"Game",component:Ue},{path:"/rules",name:"Rules",component:ye},{path:"/game",name:"Game",component:Ue}],Qe=new fe["a"]({mode:"history",base:"/game/",routes:Ke}),Xe=Qe,Ze=a("fe3c"),et=a.n(Ze),tt=a("7707"),at=a.n(tt);window.addEventListener("load",(function(){et.a.attach(document.body)}),!1),at.a.polyfill(),s["default"].config.productionTip=!1,new s["default"]({router:Xe,store:x,vuetify:r,render:function(e){return e(de)}}).$mount("#app"),console.log("smoothscroll",window)},"596d":function(e,t,a){"use strict";var s=a("e43f"),n=a.n(s);n.a},"5c0b":function(e,t,a){"use strict";var s=a("9c0c"),n=a.n(s);n.a},"8caa":function(e,t,a){"use strict";var s=a("c654"),n=a.n(s);n.a},"907d":function(e,t,a){},"9c0c":function(e,t,a){},c654:function(e,t,a){},c828:function(e,t,a){},d967:function(e,t,a){},e43f:function(e,t,a){},e9a7:function(e,t,a){"use strict";var s=a("0a3e"),n=a.n(s);n.a},ec0a:function(e,t,a){},fecc:function(e,t,a){"use strict";var s=a("d967"),n=a.n(s);n.a}});
//# sourceMappingURL=app.5aba42da.js.map