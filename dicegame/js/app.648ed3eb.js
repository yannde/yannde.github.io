(function(e){function t(t){for(var s,r,o=t[0],c=t[1],l=t[2],g=0,d=[];g<o.length;g++)r=o[g],Object.prototype.hasOwnProperty.call(n,r)&&n[r]&&d.push(n[r][0]),n[r]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(e[s]=c[s]);u&&u(t);while(d.length)d.shift()();return i.push.apply(i,l||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],s=!0,o=1;o<a.length;o++){var c=a[o];0!==n[c]&&(s=!1)}s&&(i.splice(t--,1),e=r(r.s=a[0]))}return e}var s={},n={app:0},i=[];function r(t){if(s[t])return s[t].exports;var a=s[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=s,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)r.d(a,s,function(t){return e[t]}.bind(null,s));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/dicegame/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var u=c;i.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"0175":function(e,t,a){"use strict";var s=a("3ac7"),n=a.n(s);n.a},"0ad7":function(e,t,a){"use strict";var s=a("c828"),n=a.n(s);n.a},2937:function(e,t,a){"use strict";var s=a("690d"),n=a.n(s);n.a},3729:function(e,t,a){},"39a6":function(e,t,a){"use strict";var s=a("cb60"),n=a.n(s);n.a},"3ac7":function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);var s={};a.r(s),a.d(s,"probabilities",(function(){return B})),a.d(s,"gainProbabilities",(function(){return G})),a.d(s,"boardSizes",(function(){return $})),a.d(s,"difficulties",(function(){return J})),a.d(s,"gamestates",(function(){return E})),a.d(s,"players",(function(){return L}));var n={};a.r(n),a.d(n,"en",(function(){return Je}));a("e260"),a("e6cf"),a("cca6"),a("a79d"),a("d5e8"),a("5363");var i=a("2b0e"),r=a("ce5b"),o=a.n(r);a("bf40");i["default"].use(o.a);var c=new o.a({theme:{options:{customProperties:!0},themes:{light:{primary:"#0d2b45",secondary:"#d08159",accent:"#544e68",error:"#6B120D",info:"#3B8A70",success:"#96C052",warning:"#D0AB59"}}}}),l=(a("907d"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("div",{staticClass:"cute",attrs:{id:"app"}},[a("GameHeader"),a("div",{staticClass:"main"},[a("router-view")],1),a("GameFooter")],1)])}),u=[],g=a("5530"),d=a("2f62"),m=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"gameFooter"},[a("GameTutorial"),a("GameResults"),a("div",{staticClass:"gameFooter_menu",class:["gameFooter_menu-"+e.settings.color]},[a("GameFooterSettings")],1)],1)},h=[],f=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"gameFooterSettings"},[a("GameFooterColors",{staticClass:"gameFooterSettings_select",class:{"gameFooterSettings_select-active":"color"===e.select},attrs:{color:e.settings.settings.color},on:{"update:color":function(t){return e.$set(e.settings.settings,"color",t)},select:e.update}}),a("GameFooterValue",{staticClass:"gameFooterSettings_select",class:{"gameFooterSettings_select-active":"size"===e.select},attrs:{value:e.settings.settings.size,type:"size"},on:{"update:value":function(t){return e.$set(e.settings.settings,"size",t)},select:e.update}}),a("GameFooterValue",{staticClass:"gameFooterSettings_select",class:{"gameFooterSettings_select-active":"players"===e.select},attrs:{value:e.settings.settings.players,type:"players"},on:{"update:value":function(t){return e.$set(e.settings.settings,"players",t)},select:e.update}}),a("GameFooterValue",{staticClass:"gameFooterSettings_select",class:{"gameFooterSettings_select-active":"mode"===e.select},attrs:{value:e.settings.settings.mode,type:"mode"},on:{"update:value":function(t){return e.$set(e.settings.settings,"mode",t)},select:e.update}}),a("div",{staticClass:"gameFooterSettings_content_container"},[a("div",{staticClass:"gameFooterSettings_content"},[a("v-btn",{staticClass:"gameFooterSettings_link gameFooterSettings_link-color",class:{"gameFooterSettings_color-inactive":!e.settingsState.showSettings},attrs:{text:""},on:{click:function(t){return e.toSelect("color")}}},[a("div",{staticClass:"gameFooterSettings_color",class:[{"gameFooterSettings_color-tutorial":0===e.settingsState.tutorialStep},"gameFooterSettings_color-"+e.settings.settings.color]})]),a("div",{staticClass:"gameFooterSettings_content_right"},[a("div",{staticClass:"gameFooterSettings_content_right_grid",class:{"gameFooterSettings_content_right_grid-settings":e.settingsState.showSettings}},[a("div",{staticClass:"gameFooterSettings_content_controls"},[e.game.status<2&&2!==e.game.settings.mode?[e.game.player.isPlayer?a("div",[e._v(e._s(e.i18n.makeMove))]):a("div",{staticClass:"results_message"},[a("v-btn",{staticClass:"results_message_btn",attrs:{color:"primary",large:""},on:{click:e.start}},[e._v(e._s(e.i18n.start))])],1)]:2===e.game.status?[2===e.game.settings.mode?[e.game.player.isPlayer?a("GameFooterTimer"):a("GameFooterResults")]:e.game.player.isPlayer?a("v-btn",{attrs:{color:"primary",disabled:e.game.busy,large:""},on:{click:e.next}},[e._v(e._s(e.i18n.next))]):e._e()]:e._e()],2),a("v-btn",{staticClass:"gameFooterSettings_link gameFooterSettings_link-size",class:{"gameFooterSettings_link-active":"size"===e.select},attrs:{text:""},on:{click:function(t){return e.toSelect("size")}}},[a("div",{staticClass:"gameFooterSettings_link_icon icon icon-board",class:[{"gameFooterSettings_link_icon-tutorial":1===e.settingsState.tutorialStep},"icon-board-"+e.settings.settings.size]}),a("div",{staticClass:"gameFooterSettings_link_text"},[e._v(e._s(e.i18n.size))])]),a("v-btn",{staticClass:"gameFooterSettings_link gameFooterSettings_link-players",class:{"gameFooterSettings_link-active":"players"===e.select},attrs:{text:""},on:{click:function(t){return e.toSelect("players")}}},[a("div",{staticClass:"gameFooterSettings_link_icon gameFooterSettings_link_icon-players icon icon-players",class:{"gameFooterSettings_link_icon-tutorial":2===e.settingsState.tutorialStep}},[a("span",{staticClass:"gameFooterSettings_link_icon_text"},[e._v(e._s(e.settings.settings.players))])]),a("div",{staticClass:"gameFooterSettings_link_text"},[e._v(e._s(e.i18n.players))])]),a("v-btn",{staticClass:"gameFooterSettings_link gameFooterSettings_link-mode",class:{"gameFooterSettings_link-active":"mode"===e.select},attrs:{text:""},on:{click:function(t){return e.toSelect("mode")}}},[a("div",{staticClass:"gameFooterSettings_link_icon icon icon-mode",class:[{"gameFooterSettings_link_icon-tutorial":3===e.settingsState.tutorialStep},"icon-mode-"+e.settings.settings.mode]}),a("div",{staticClass:"gameFooterSettings_link_text"},[e._v(e._s(e.i18n.mode))])]),a("v-btn",{staticClass:"gameFooterSettings_link gameFooterSettings_link-play gameFooterSettings_link-active",attrs:{text:""},on:{click:function(t){return e.newGame()}}},[a("div",{staticClass:"gameFooterSettings_link_icon icon icon-dices",class:{"gameFooterSettings_link_icon-tutorial":4===e.settingsState.tutorialStep}}),a("div",{staticClass:"gameFooterSettings_link_text"},[e._v(e._s(e.i18n.play))])]),a("v-btn",{staticClass:"gameFooterSettings_link gameFooterSettings_link-settings",attrs:{text:""},on:{click:e.toSettings}},[a("div",{staticClass:"gameFooterSettings_link_icon icon icon-settings"}),a("div",{staticClass:"gameFooterSettings_link_text"},[e._v(e._s(e.i18n.setup))])])],1)])],1)]),a("v-overlay",{staticClass:"gameFooterSettings_overlay",attrs:{value:!!e.select||e.game.status>0&&e.settingsState.showSettings||e.game.status>3,"z-index":1},nativeOn:{click:function(t){return e.closeOverlay(null)}}},[a("div",{staticClass:"gameFooterSettings_overlay_content",class:{"gameFooterSettings_overlay_content-active":!e.select}},[4===e.game.status?[a("span",[e._v(e._s(e.i18n.lost))]),a("v-btn",{staticClass:"gameFooterSettings_message_btn",attrs:{color:"primary",large:""},on:{click:function(t){return e.newGame()}}},[a("span",{staticClass:"icon icon-swords"}),e._v(" "+e._s(e.i18n.revenge)+" ")])]:5===e.game.status?[a("span",[e._v(e._s(e.i18n.win))]),a("v-btn",{staticClass:"gameFooterSettings_message_btn",attrs:{color:"primary",large:""},on:{click:function(t){return e.newGame(0===e.game.settings.mode)}}},[a("span",{staticClass:"icon icon-crown"}),e._v(" "+e._s(0===e.game.settings.mode?e.i18n.easy:e.i18n.more)+" ")]),0===e.game.settings.mode?a("v-btn",{staticClass:"gameFooterSettings_message_btn gameFooterSettings_message_btn-last",attrs:{color:"primary",outlined:"",large:""},on:{click:function(t){return e.newGame(0===e.game.settings.mode)}}},[a("span",{staticClass:"icon icon-bottle"}),e._v(" "+e._s(e.i18n.ok)+" ")]):e._e()]:a("span",{staticClass:"gameFooterSettings_overlay_icon icon icon-pause"})],2)])],1)},v=[],p=(a("99af"),a("4de4"),a("c740"),a("4160"),a("a630"),a("caad"),a("c975"),a("d81d"),a("13d5"),a("a434"),a("d3b7"),a("2532"),a("3ca3"),a("159b"),a("ddb0"),a("d4ec")),_=a("bee2"),S=a("53ca"),y=a("ade3"),b=function e(){Object(p["a"])(this,e),Object(y["a"])(this,"getLocalStorage",(function(e){var t=localStorage.getItem(e);try{return null!==t?JSON.parse(t):null}catch(a){return t}})),Object(y["a"])(this,"setLocalStorage",(function(e,t){localStorage.setItem(e,"object"===Object(S["a"])(t)?JSON.stringify(t):t)})),Object(y["a"])(this,"removeLocalStorage",(function(e){localStorage.removeItem(e)})),Object(y["a"])(this,"clearLocalStorage",(function(){localStorage.clear()}))},w=new b,k={board:[],busy:!0,chain:[],defender:null,player:{},players:[],results:{},selected:null,settings:{players:4,size:4,mode:0,color:0},status:0},C={getBoard:function(){return JSON.parse(JSON.stringify(k.board))},getCell:function(e){return JSON.parse(JSON.stringify(k.board[e]))},getSelected:function(){return JSON.parse(JSON.stringify(k.selected))},getDefender:function(){return JSON.parse(JSON.stringify(k.defender))},getPlayer:function(){return JSON.parse(JSON.stringify(k.player))},getPlayers:function(){return JSON.parse(JSON.stringify(k.players))},getSettings:function(){return JSON.parse(JSON.stringify(k.settings))},getResults:function(){return JSON.parse(JSON.stringify(k.results))},getBusy:function(){return JSON.parse(JSON.stringify(k.busy))},getStatus:function(){return JSON.parse(JSON.stringify(k.status))},getChain:function(){return JSON.parse(JSON.stringify(k.chain))}},F={setBoard:function(e,t){e.board=t},setCell:function(e,t){i["default"].set(e.board,t.i,t.data)},setSelected:function(e,t){e.selected=t},setDefender:function(e,t){e.defender=t},setPlayer:function(e,t){e.player=t},setPlayers:function(e,t){e.players=t},setSetting:function(e,t){e.settings=Object(g["a"])(Object(g["a"])({},e.settings),t),w.setLocalStorage("settings",e.settings)},setSettings:function(e,t){e.settings=t,w.setLocalStorage("settings",e.settings)},setResults:function(e,t){e.results=t},setBusy:function(e,t){e.busy=t},setStatus:function(e,t){e.status=t},setChain:function(e,t){e.chain=t}},O={changeBoard:function(e,t){var a=e.commit;a("setBoard",t)},changeCell:function(e,t){var a=e.commit;a("setCell",t)},changeSelected:function(e,t){var a=e.commit;a("setSelected",t)},changeDefender:function(e,t){var a=e.commit;a("setDefender",t)},changePlayer:function(e,t){var a=e.commit;a("setPlayer",t)},changePlayers:function(e,t){var a=e.commit;a("setPlayers",t)},changeSetting:function(e,t){var a=e.commit;a("setSetting",t)},changeSettings:function(e,t){var a=e.commit;a("setSettings",t)},changeResults:function(e,t){var a=e.commit;a("setResults",t)},changeBusy:function(e,t){var a=e.commit;a("setBusy",t)},changeStatus:function(e,t){var a=e.commit;a("setStatus",t)},changeChain:function(e,t){var a=e.commit;a("setChain",t)}},P={namespaced:!0,state:k,getters:C,actions:O,mutations:F},j={isMobile:!1,showSettings:!0,tutorialStep:-1},x={getIsMobile:function(){return JSON.parse(JSON.stringify(j.isMobile))},getShowSettings:function(){return JSON.parse(JSON.stringify(j.showSettings))},getTutorialStep:function(){return JSON.parse(JSON.stringify(j.tutorialStep))}},T={setIsMobile:function(e,t){e.isMobile=t},setShowSettings:function(e,t){e.showSettings=t},setTutorialStep:function(e,t){e.tutorialStep=t}},M={changeIsMobile:function(e,t){var a=e.commit;a("setIsMobile",t)},changeShowSettings:function(e,t){var a=e.commit;a("setShowSettings",t)},changeTutorialStep:function(e,t){var a=e.commit;a("setTutorialStep",t)}},N={namespaced:!0,state:j,getters:x,actions:M,mutations:T};i["default"].use(d["a"]);var z=new d["a"].Store({state:{i18n:null},mutations:{setLang:function(e,t){e.i18n=t}},actions:{changeLang:function(e,t){var a=e.commit;a("setLang",t)}},modules:{game:P,settings:N}}),B=[[.837963,.443673,.152006,.03588,.006105,766e-6,71e-6,5e-6],[.972994,.778549,.453575,.191701,.060713,.014879,.00289,452e-6],[.997299,.939236,.742831,.459528,.220442,.083423,.02545,.006379],[.99985,.98794,.909347,.718078,.463654,.242449,.103626,.036742],[.999996,.998217,.9753,.883953,.699616,.466731,.259984,.121507],[1,.999801,.994663,.961536,.862377,.685165,.469139,.274376],[1,.999983,.999069,.989534,.947731,.843874,.673456,.471091]],G=[[.675926,.331019,-.391976,-.8206,-.96337,-.994638,-.999432,-.999955],[.918982,1.114196,.267875,-.849794,-1.575009,-1.880968,-1.97399,-1.99548],[.989196,1.69618,1.456986,.216696,-1.236464,-2.249193,-2.7455,-2.929831],[.99925,1.92764,2.365429,1.744624,.172886,-1.57551,-2.860114,-3.559096],[.999976,1.987519,2.8024,2.955577,1.99616,.134041,-1.880192,-3.420409],[1,1.998408,2.951967,3.61536,3.486147,2.22198,.098807,-2.158736],[1,1.999847,2.99069,3.884874,4.372772,3.970362,2.428384,.066365]],$=[{name:"16",value:4},{name:"25",value:5},{name:"36",value:6}],J=[{name:"normal",value:0},{name:"hard",value:1},{name:"timer",value:2}],E=[{name:"no game",value:0},{name:"game set",value:1},{name:"game started",value:2},{name:"game paused",value:3},{name:"game lost",value:4},{name:"game won",value:5}],L=[{name:2,value:2},{name:3,value:3},{name:4,value:4},{name:5,value:5},{name:6,value:6},{name:7,value:7},{name:8,value:8}],A=function(){function e(){Object(p["a"])(this,e)}return Object(_["a"])(e,[{key:"aiMove",value:function(e){var t=z.getters["game/getPlayer"],a=z.getters["game/getBoard"],s=z.getters["game/getSettings"],n=a.filter((function(e){return e.owner===t.id&&e.dice>1})),i=-8*t.cells+t.total+t.size+t.reserve,r=.52-.12*t.aggresive;s.mode>0&&(r+=Math.min(e,5)*(.2-.08*t.aggresive)),(i>=0||t.size>Math.pow(s.size,1.4))&&(r=Math.min(r,.44));var o=[];return 0!==n.length&&(n.forEach((function(e){e.adjacents.forEach((function(s){var n=a[s];if(n.owner!==t.id){var i=B[e.dice-2][n.dice-1],c=G[e.dice-2][n.dice-1];if(i>r){var l={attacker:e.id,defender:s,owner:n.owner,probability:i,gainProbability:c,weighedBenefit:1};o.push(l)}}}))})),s.mode>0&&(o=this.attackBiggest(o),o=this.simulateMoves(o)),0!==o.length&&(o.sort((function(e,t){return e.gainProbability<t.gainProbability?1:-1})),o.sort((function(e,t){return e.weighedBenefit<t.weighedBenefit?1:-1})),o[0]))}},{key:"attackBiggest",value:function(e){var t=z.getters["game/getPlayer"],a=z.getters["game/getPlayers"],s=z.getters["game/getSettings"],n=Math.pow(s.size,2)/2+Math.round(-2*t.aggresive+1),i=a.filter((function(e){return e.id!==t.id&&e.size>=n}));return i.length?e.filter((function(e){return e.owner===i[0].id})):e.map((function(e){var t=a.filter((function(t){return t.id===e.owner}))[0].size;return e.weighedBenefit=.8+Math.pow(s.size,2)/2/t*.4,e}))}},{key:"simulateMoves",value:function(e){var t=this,a=z.getters["game/getPlayer"],s=z.getters["game/getBoard"];return e.forEach((function(e){var n=JSON.parse(JSON.stringify(s));n[e.defender].dice=n[e.attacker].dice-1,n[e.defender].owner=a.id,n[e.attacker].dice=1,e.gain=t.calculateMoveResult(n,a.id),e.lose=-1*t.calculateMoveResult(n,e.owner),e.benefit=e.gain*(-2*a.aggresive+2.5)+e.lose,e.weighedBenefit*=e.benefit*(e.probability+2)})),e}},{key:"calculateMoveResult",value:function(e,t){var a=z.getters["game/getPlayers"],s=[];e.forEach((function(e,a){e.owner===t&&s.push(a)}));for(var n=1,i=0;i<s.length;i++)s[i]>-1&&function(){var t=[];t.push(s[i]),delete s[i];for(var a=0;a<t.length;a++)e[t[a]].adjacents.forEach((function(e){if(s.includes(e)){t.push(e);var a=s.indexOf(e);delete s[a]}}));n=Math.max(t.length,n)}();var r=a[a.findIndex((function(e){return e.id===t}))];return r?n-r.size:-1}}]),e}(),D=function(){function e(){Object(p["a"])(this,e)}return Object(_["a"])(e,[{key:"chain",value:function(e){var t=z.getters["game/getSelected"],a=z.getters["game/getBoard"],s=z.getters["game/getChain"];s.push({selected:t,i:e}),console.log("chain",s),s.forEach((function(e,t){a[e.i].chain=t+1})),z.dispatch("game/changeChain",s),z.dispatch("game/changeBoard",a)}}]),e}(),R=new A,I=new D,H={executeAttack:400,moveToNextPlayer:1e3,changeSelected:200,attack:400},V=function(){function e(){Object(p["a"])(this,e)}return Object(_["a"])(e,[{key:"changeBoard",value:function(){var e=z.getters["game/getSettings"],t=[],a=[],s=Math.pow(e.size,2),n=Math.floor(s/e.players),i=s%e.players,r=e.color<e.players?Array.from(Array(e.players).keys()):Array.from(Array(e.players-1).keys()).concat([e.color]);r.unshift(r.splice(r.indexOf(e.color),1)[0]),r.forEach((function(e){for(var s=[],r=0,o=e-i<0?n+1:n,c=0;c<o;c++){var l=3*Math.random();r+=l,s.push(l)}var u=2*o/r*(n/o);s=s.map((function(e){return 1+Math.floor(e*u)}));var g=s.reduce((function(e,t){return e+t}),0),d={id:e,cells:o,total:g};a.push(d);for(var m=0;m<o;m++)t.push({owner:e,added:0,dice:s[m]})})),t=t.sort((function(){return Math.random()-.5})),t=t.map((function(t,a){return t.id=a,a<e.size&&(t.top=!0),(a+1)%e.size||(t.right=!0),a>=s-e.size&&(t.bottom=!0),a%e.size||(t.left=!0),t})),z.dispatch("game/changeBoard",t),this.setAdjacents(),z.dispatch("game/changePlayers",a)}},{key:"newGame",value:function(){var e=this,t=z.getters["game/getSettings"];this.changeBoard();var a=z.getters["game/getPlayers"].map((function(a){return a.isPlayer=a.id===t.color,a.size=e.calculateAdd(a.id),a.reserve=0,a.aggresive=t.mode>0?Math.round(100*Math.random())/100:.5,a}));t.mode>0&&(a=a.sort((function(){return Math.random()-.5}))),z.dispatch("game/changePlayer",a[0]),z.dispatch("game/changePlayers",a),z.dispatch("game/changeSelected",null),z.dispatch("game/changeResults",{}),z.dispatch("game/changeStatus",1),a[0].isPlayer?(z.dispatch("game/changeBusy",!1),2===t.mode&&z.dispatch("game/changeStatus",2)):(z.dispatch("game/changeBusy",!0),2===t.mode&&this.startGame())}},{key:"startGame",value:function(){z.dispatch("game/changeStatus",2),this.aiMoves(0)}},{key:"setAdjacents",value:function(){var e=z.getters["game/getSettings"].size,t=z.getters["game/getBoard"];t=t.map((function(a,s){var n=[];return s%e&&n.push(s-1),(s+1)%e&&n.push(s+1),s>=e&&n.push(s-e),s<t.length-e&&n.push(s+e),a.adjacents=n,a})),z.dispatch("game/changeBoard",t)}},{key:"changeSelected",value:function(e){z.dispatch("game/changeStatus",2),z.dispatch("game/changeSelected",e)}},{key:"changePlayer",value:function(e){z.dispatch("game/changePlayer",e)}},{key:"addAttack",value:function(e){I.chain(e),this.changeSelected(e)}},{key:"attack",value:function(e){var t=this;return new Promise((function(a){var s=z.getters["game/getSelected"],n=z.getters["game/getBoard"],i=z.getters["game/getPlayer"],r=n[s],o=n[e],c=t.dice(r.dice),l=t.dice(o.dice),u=o.owner;c.cell=s,l.cell=e,z.dispatch("game/changeResults",{attacker:r.owner,defender:u,attackerDice:c,defenderDice:l}),z.dispatch("game/changeDefender",e),0===r.owner&&z.dispatch("game/changeBusy",!0),setTimeout((function(){z.dispatch("game/changeDefender",null),c.total>l.total?(o.dice=r.dice-1,o.owner=r.owner,z.dispatch("game/changeCell",{i:e,data:o}),t.checkLost(u)||(o.dice>1&&i.isPlayer?z.dispatch("game/changeSelected",e):z.dispatch("game/changeSelected",null),t.calculateAdd(u))):z.dispatch("game/changeSelected",null),t.calculateAdd(r.owner),r.dice=1,z.dispatch("game/changeCell",{i:s,data:r}),0===r.owner&&z.dispatch("game/changeBusy",!1),a({status:200})}),H.executeAttack)}))}},{key:"dice",value:function(e){for(var t=0,a=[],s=0;s<e;s++){var n=Math.floor(6*Math.random())+1;a.push(n),t+=n}return{total:t,dice:a}}},{key:"checkLost",value:function(e){var t=z.getters["game/getBoard"],a=z.getters["game/getPlayers"];if(!t.filter((function(t){return t.owner===e})).length){var s=a.findIndex((function(t){return t.id===e}));if(a[s].isPlayer&&(z.dispatch("game/changeStatus",4),z.dispatch("settings/changeShowSettings",!0),z.dispatch("game/changeSelected",null)),a.splice(s,1),z.dispatch("game/changePlayers",a),1===a.length)return z.dispatch("game/changeSelected",null),a[0].isPlayer&&(z.dispatch("game/changeStatus",5),z.dispatch("settings/changeShowSettings",!0)),!0}return!1}},{key:"nextPlayer",value:function(){var e=this;z.dispatch("game/changeBusy",!0),this.applyAdd(),setTimeout((function(){var t=z.getters["game/getPlayer"],a=z.getters["game/getPlayers"],s=a.findIndex((function(e){return e.id===t.id})),n=a[(s+1)%a.length],i=z.getters["game/getBoard"].map((function(e){return e.owner===n.id&&(e.added=0),e}));z.dispatch("game/changeBoard",i),z.dispatch("game/changeResults",{}),z.dispatch("game/changePlayer",n),z.dispatch("game/changeSelected",null),n.isPlayer?z.dispatch("game/changeBusy",!1):e.aiMoves(0)}),H.moveToNextPlayer)}},{key:"aiMoves",value:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,s=R.aiMove(e);if(!1!==s){var n=z.getters["game/getSelected"],i=s.attacker!==n&&s.attacker!==a?H.changeSelected:10;setTimeout((function(){s.attacker!==n&&t.changeSelected(s.attacker),setTimeout((function(){var a=t;t.attack(s.defender).then((function(t){4!==z.getters["game/getStatus"]&&a.aiMoves(++e,s.defender)}))}),H.attack)}),i)}else this.nextPlayer()}},{key:"getPlayerCells",value:function(e){var t=[];return z.getters["game/getBoard"].forEach((function(a,s){a.owner===e&&t.push(s)})),t}},{key:"calculateAdd",value:function(e){for(var t=z.getters["game/getPlayers"],a=z.getters["game/getBoard"],s=this.getPlayerCells(e),n=1,i=s.reduce((function(e,t){return e+a[t].dice}),0),r=s.length,o=0;o<s.length;o++)s[o]>-1&&function(){var e=[];e.push(s[o]),delete s[o];for(var t=0;t<e.length;t++)a[e[t]].adjacents.forEach((function(t){if(s.includes(t)){e.push(t);var a=s.indexOf(t);delete s[a]}}));n=Math.max(e.length,n)}();var c=t[t.findIndex((function(t){return t.id===e}))];if(c){c.size=n,c.total=i,c.cells=r,z.dispatch("game/changePlayers",t);var l=z.getters["game/getPlayer"];c.id===l.id&&z.dispatch("game/changePlayer",c)}return n}},{key:"applyAdd",value:function(){var e=z.getters["game/getBoard"],t=z.getters["game/getPlayer"],a=this.getPlayerCells(t.id),s=+t.size+t.reserve;for(s;s>0&&a.length;s--){var n=a[Math.floor(Math.random()*a.length)];e[n].dice>7?(a.splice(a.indexOf(n),1),s++):(e[n].dice++,t.isPlayer&&e[n].added++)}t.reserve=s;var i=z.getters["game/getPlayers"];i[i.findIndex((function(e){return e.id===t.id}))]=t,z.dispatch("game/changePlayers",i),z.dispatch("game/changeBoard",e)}}]),e}(),q=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{ref:"gameFooterSelect",staticClass:"gameFooterSelect gameFooterSelect-color",on:{"&scroll":function(t){return e.onScroll(t)},touchend:e.onScrollEnd}},[e._l(8,(function(t,s){return a("div",{directives:[{name:"ripple",rawName:"v-ripple"}],key:s,staticClass:"gameFooterSelect_select",on:{click:function(t){return e.select(s)}}},[a("div",{staticClass:"gameFooterSelect_select_content",style:{transform:e.getTransform(s)}},[a("div",{staticClass:"gameFooterSelect_color",class:["gameFooterSelect_color-"+s]})])])})),a("div",{staticClass:"gameFooterSelect_padding gameFooterSelect_padding-end gameFooterSelect_padding-end-color"})],2)])},Y=[],K={name:"GameFooterColors",computed:Object(d["c"])({settings:function(e){return e.game.settings}}),props:{color:{default:1}},data:function(){return{selected:0,zoom:1.5,next:1,zoomNext:1}},mounted:function(){this.selected=this.color,this.$refs.gameFooterSelect.scrollTo({top:0,left:80*this.color})},methods:{select:function(e){this.$refs.gameFooterSelect.scrollTo({top:0,left:80*e,behavior:"smooth"}),this.$emit("update:color",e),this.$emit("select",!0)},onScroll:function(e){var t=e.srcElement.scrollLeft/80,a=Math.round(t);this.selected!==a&&(this.selected=a,this.$emit("update:color",this.selected));var s=t-this.selected;this.next=s>0?this.selected+1:this.selected-1,s=Math.abs(s),this.zoom=1.5-s/2,this.zoomNext=1+s/2},onScrollEnd:function(){var e=this;if(this.pos-this.$refs.gameFooterSelect.scrollLeft)return this.pos=this.$refs.gameFooterSelect.scrollLeft,void setTimeout((function(){e.onScrollEnd()}),100);this.pos=this.$refs.gameFooterSelect.scrollLeft;var t=80*this.selected;this.$refs.gameFooterSelect.scrollTo({top:0,left:t,behavior:"smooth"})},getTransform:function(e){switch(e){case this.selected:return"scale("+this.zoom+")";case this.next:return"scale("+this.zoomNext+")"}return"scale(1)"}},watch:{color:function(e){this.selected!==e&&(this.selected=e,this.$refs.gameFooterSelect.scrollTo({top:0,left:80*e}))}}},W=K,Q=(a("8caa"),a("2877")),U=Object(Q["a"])(W,q,Y,!1,null,null,null),X=U.exports,Z=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"gameFooterTimer",on:{click:e.next}},[a("span",{staticClass:"gameFooterTimer_countdown"},[e._v("00:"+e._s(e.timer>9?"":"0")+e._s(e.timer))])])},ee=[],te={name:"GameFooterTimer",computed:Object(d["c"])({game:function(e){return e.game}}),data:function(){return{gameService:new V,timer:11,countDown:null,delay:250}},mounted:function(){this.timer=2*this.game.settings.size+1,this.count()},methods:Object(g["a"])({count:function(){var e=this;this.timer--,this.countDown=setTimeout((function(){e.count()}),1e3)},next:function(){this.timer=0}},Object(d["b"])("game",["changeBusy"])),watch:{timer:function(e){var t=this;this.timer<1&&(clearTimeout(this.countDown),this.game.busy&&(this.delay=1e3),this.changeBusy(!0),setTimeout((function(){t.gameService.nextPlayer()}),this.delay))}}},ae=te,se=(a("599a"),Object(Q["a"])(ae,Z,ee,!1,null,null,null)),ne=se.exports,ie=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{ref:"gameFooterSelect",staticClass:"gameFooterSelect",class:["gameFooterSelect-"+e.type],on:{"&scroll":function(t){return e.onScroll(t)},touchend:e.onScrollEnd}},[a("div",{staticClass:"gameFooterSelect_padding gameFooterSelect_padding-start",class:["gameFooterSelect_padding-start-"+e.type]}),e._l(e.val,(function(t,s){return a("div",{directives:[{name:"ripple",rawName:"v-ripple"}],key:t.value,ref:"select-"+s,refInFor:!0,staticClass:"gameFooterSelect_select",on:{click:function(a){return e.select(t.value,s)}}},[a("div",{staticClass:"gameFooterSelect_select_content",style:{transform:e.getTransform(s)}},["size"===e.type?a("span",{staticClass:"gameFooterSelect_select_icon icon",class:["icon-board-"+t.value]}):"mode"===e.type?a("span",{staticClass:"gameFooterSelect_select_icon icon",class:["icon-mode-"+t.value]}):[e._v(e._s(t.name))]],2)])})),a("div",{staticClass:"gameFooterSelect_padding gameFooterSelect_padding-end",class:["gameFooterSelect_padding-end-"+e.type]})],2)])},re=[],oe={name:"GameFooterValue",props:{type:{default:"size"},value:{default:1}},computed:Object(d["c"])({settings:function(e){return e.game.settings},val:function(){var e=$;switch(this.type){case"players":e=L;break;case"mode":e=J;break}return e}}),data:function(){return{boardSizes:$,difficulties:J,players:L,selected:0,zoom:1.5,next:1,zoomNext:1,pos:0}},mounted:function(){this.setValue()},methods:{setValue:function(){var e=this;this.selected=this.value;var t=this.val.findIndex((function(t){return t.value===e.value}));this.$refs.gameFooterSelect.scrollTo({top:0,left:80*t})},select:function(e,t){var a=80*t;this.$refs.gameFooterSelect.scrollTo({top:0,left:a,behavior:"smooth"}),this.$emit("update:value",e),this.$emit("select",!0)},onScroll:function(e){var t=e.srcElement.scrollLeft/80,a=Math.round(t);this.selected!==a&&(this.selected=a,this.$emit("update:value",this.val[a].value));var s=t-this.selected;this.next=s>0?this.selected+1:this.selected-1,s=Math.abs(s),this.zoom=1.5-s/2,this.zoomNext=1+s/2},onScrollEnd:function(){var e=this;if(this.pos!==this.$refs.gameFooterSelect.scrollLeft)return this.pos=this.$refs.gameFooterSelect.scrollLeft,void setTimeout((function(){e.onScrollEnd()}),50);this.pos=this.$refs.gameFooterSelect.scrollLeft;var t=80*this.selected;this.$refs.gameFooterSelect.scrollTo({top:0,left:t,behavior:"smooth"})},getTransform:function(e){switch(e){case this.selected:return"scale("+this.zoom+")";case this.next:return"scale("+this.zoomNext+")"}return"scale(1)"}},watch:{value:function(e){var t=this,a=this.val.findIndex((function(e){return e.value===t.value}));this.selected!==a&&this.setValue()}}},ce=oe,le=Object(Q["a"])(ce,ie,re,!1,null,null,null),ue=le.exports,ge={name:"GameFooterSettings",components:{GameFooterColors:X,GameFooterTimer:ne,GameFooterValue:ue},computed:Object(d["c"])({game:function(e){return e.game},settingsState:function(e){return e.settings},gameResults:function(e){return e.game.results},i18n:function(e){return e.i18n}}),data:function(){return{gameService:new V,settings:{settings:{}},select:null,showSettings:!0}},mounted:function(){this.$set(this.settings,"settings",JSON.parse(JSON.stringify(this.game.settings)))},methods:Object(g["a"])(Object(g["a"])({toSelect:function(e){this.select=this.select===e?null:e},update:function(){setTimeout((function(e){e.select=null}),300,this)},newGame:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e&&this.$set(this.settings.settings,"mode",this.settings.settings.mode+1),this.changeSettings(JSON.parse(JSON.stringify(this.settings.settings))),this.select=null,this.changeShowSettings(!1),this.gameService.newGame()},toSettings:function(){this.changeShowSettings(!0)},start:function(){this.gameService.startGame()},next:function(){this.gameService.nextPlayer()},closeOverlay:function(){this.select=!1,this.game.status>0&&this.changeShowSettings(!1)}},Object(d["b"])("game",["changeSettings"])),Object(d["b"])("settings",["changeShowSettings"]))},de=ge,me=(a("0175"),Object(Q["a"])(de,f,v,!1,null,null,null)),he=me.exports,fe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"results_container"},[e.game.results&&e.game.results.attackerDice&&e.game.results.attacker===e.game.player.id?a("div",{staticClass:"results"},[a("div",{staticClass:"results_side results_side-attacker",class:{"results_side-win":e.game.results.attackerDice.total>e.game.results.defenderDice.total}},[a("div",{staticClass:"results_result results_result-attacker"},[a("div",{staticClass:"results_dices",class:["results_dices-"+e.game.results.attackerDice.dice.length]},e._l(e.game.results.attackerDice.dice,(function(e,t){return a("div",{key:t,staticClass:"results_dice",class:["results_dice-"+e]})})),0)]),a("div",{staticClass:"results_color",class:[{"results_color-player":e.game.results.attacker===e.game.settings.color},"results_color-"+e.game.results.attacker]},[e._v(e._s(e.game.results.attackerDice.total))])]),a("div",{staticClass:"results_vs icon icon-swords"}),a("div",{staticClass:"results_side results_side-defender",class:{"results_side-win":e.game.results.attackerDice.total<=e.game.results.defenderDice.total}},[a("div",{staticClass:"results_color",class:[{"results_color-player":e.game.results.defender===e.game.settings.color},"results_color-"+e.game.results.defender]},[e._v(e._s(e.game.results.defenderDice.total))]),a("div",{staticClass:"results_result results_result-defender"},[a("div",{staticClass:"results_dices",class:["results_dices-"+e.game.results.defenderDice.dice.length]},e._l(e.game.results.defenderDice.dice,(function(e,t){return a("div",{key:t,staticClass:"results_dice",class:["results_dice-"+e]})})),0)])])]):e._e()])},ve=[],pe={name:"GameResults",computed:Object(d["c"])({game:function(e){return e.game},gameResults:function(e){return e.game.results}}),data:function(){return{gameService:new V,resultsActive:!1}},methods:{},watch:{gameResults:function(e){this.resultsActive=!0;var t=this.game.player.isPlayer?750:1500;setTimeout((function(t){t.gameResults===e&&(t.showResults=!1)}),t,this)}}},_e=pe,Se=(a("f51a"),Object(Q["a"])(_e,fe,ve,!1,null,"5463db82",null)),ye=Se.exports,be=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"gameTutorial_container",class:{"gameTutorial_container-active":0===e.status}},[a("div",{staticClass:"gameTutorial"},[a("div",{staticClass:"gameTutorial_slides_container"},[a("div",{staticClass:"gameTutorial_slides",class:[{"gameTutorial_slides-end":e.end},"gameTutorial_slides-"+e.step]},e._l(5,(function(t,s){return a("div",{key:t,staticClass:"gameTutorial_slide",class:["gameTutorial_slide-"+s]},[a("div",{staticClass:"gameTutorial_text"},[e._v(e._s(e.i18n.tutorials[s]))])])})),0)]),a("div",{staticClass:"gameTutorial_indicator_container"},[a("div",{staticClass:"gameTutorial_indicator",class:["gameTutorial_indicator-"+e.step]},[a("span",{staticClass:"gameTutorial_indicator_icon gameTutorial_indicator_icon icon icon-chevron",class:{"gameTutorial_indicator_icon-animate":e.start}})])])])])},we=[],ke={name:"GameTutorial",computed:Object(d["c"])({status:function(e){return e.game.status},step:function(e){return e.settings.tutorialStep},i18n:function(e){return e.i18n}}),data:function(){return{stepper:null,start:!1,end:!1}},mounted:function(){this.start=!0,this.toStep()},destroyed:function(){clearTimeout(this.stepper)},methods:Object(g["a"])({toStep:function(){var e=this;this.end=!1,this.changeTutorialStep((this.step+1)%5),4===this.step&&(this.stepper=setTimeout((function(){e.end=!0}),1e3)),this.stepper=setTimeout((function(){e.toStep()}),4e3)}},Object(d["b"])("settings",["changeTutorialStep"])),watch:{status:function(e){e>0&&(clearTimeout(this.stepper),this.changeTutorialStep(-1))}}},Ce=ke,Fe=(a("2937"),Object(Q["a"])(Ce,be,we,!1,null,"5658cd6b",null)),Oe=Fe.exports,Pe={name:"GameFooter",components:{GameResults:ye,GameFooterSettings:he,GameTutorial:Oe},computed:Object(d["c"])({settings:function(e){return e.game.settings}})},je=Pe,xe=(a("0ad7"),Object(Q["a"])(je,m,h,!1,null,null,null)),Te=xe.exports,Me=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},Ne=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"gameHeader"},[a("div",{staticClass:"gameHeader_content"},[a("span",{staticClass:"gameHeader_icon icon icon-dices"}),a("span",{staticClass:"gameHeader_title"},[e._v("Kingdom Dice")]),a("span",{staticClass:"gameHeader_fill"})])])}],ze={name:"GameHeader",computed:Object(d["c"])({}),data:function(){return{}},methods:{}},Be=ze,Ge=(a("c015"),Object(Q["a"])(Be,Me,Ne,!1,null,"6c5a2aa7",null)),$e=Ge.exports,Je={lange:"en",easy:"TOO EASY!",ok:"I'm OK",lost:"You Lost",makeMove:"Make your move!",mode:"mode",more:"MOAR!",next:"Next Turn",play:"play",players:"players",revenge:"Get Revenge!",setup:"setup",size:"size",start:"start",tap:"Tap<br />to<br />start",tutorials:["Pick your color","Choose the board size","Choose the number of players","Discover different game modes","Play!"],win:"WIN!"},Ee=new b,Le=function(){function e(){Object(p["a"])(this,e)}return Object(_["a"])(e,[{key:"getName",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"id",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"name",i="";if(s[e]){var r=s[e].filter((function(e){return e[a]===t}))[0];r&&(i=null===n?r:r[n])}return i}},{key:"changeLang",value:function(e){z.dispatch("changeLang",n[e]),Ee.setLocalStorage("lang",e)}}]),e}(),Ae={name:"App",components:{GameFooter:Te,GameHeader:$e},computed:Object(d["c"])({isMobile:function(e){return e.settings.isMobile}}),data:function(){return{webStorageService:new b,commonService:new Le}},created:function(){this.$nextTick((function(){window.addEventListener("resize",this.setMobile),this.setMobile()}));var e=this.webStorageService.getLocalStorage("settings");e&&this.changeSettings(e);var t=this.webStorageService.getLocalStorage("lang")||"en";this.commonService.changeLang(t)},methods:Object(g["a"])(Object(g["a"])({setMobile:function(e){var t=document.documentElement.clientWidth<768;t!==this.isMobile&&this.changeIsMobile(t)}},Object(d["b"])("settings",["changeIsMobile"])),Object(d["b"])("game",["changeSettings"]))},De=Ae,Re=(a("5c0b"),Object(Q["a"])(De,l,u,!1,null,null,null)),Ie=Re.exports,He=a("9483");Object(He["a"])("".concat("/dicegame/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var Ve=a("8c4f"),qe=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},Ye=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"rules"},[a("h1",[e._v("Rules")]),a("ul",[a("li",[e._v("The player who holds all the squares in the grid wins")]),a("li",[e._v("You can attack any adjecent square held by another color if you have at least 2 dices")]),a("li",[e._v("After each turn dices will be randomly added to your squares "),a("ul",[a("li",[e._v("The amount is determined by the largest group of adjecent squares you have")]),a("li",[e._v("The maximum amount is 8 dices in a square")]),a("li",[e._v("If more dices can't be added the remaining will be held in reserve to use later")])])])])])}],Ke={},We=Object(Q["a"])(Ke,qe,Ye,!1,null,null,null),Qe=We.exports,Ue=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"touch",rawName:"v-touch:swipe.left",value:e.swipedLeft,expression:"swipedLeft",arg:"swipe",modifiers:{left:!0}}],staticClass:"game",on:{click:e.deselect}},[a("div",{staticClass:"game_start",domProps:{innerHTML:e._s(e.i18n.tap)}}),a("GamePlayers"),a("div",{staticClass:"game_board",class:["game_board-size-"+e.game.settings.size,{"game_board-busy":e.game.busy}],on:{click:e.boardClick}},e._l(e.game.board,(function(t,s){return a("div",{directives:[{name:"ripple",rawName:"v-ripple"}],key:s,staticClass:"game_cell",class:[{"game_cell-selectable":e.selectable(s)},{"game_cell-selected":s===e.game.selected},{"game_cell-defender":t.chain},{"game_cell-add":t.added},"game_cell-defender-"+e.isAttacked(s),"game_cell-owner-"+t.owner,e.connectors(t)],attrs:{depressed:s!==e.game.selected},on:{click:function(a){return e.select(s,t.owner)}}},[a("div",{staticClass:"game_cell_dices"},[a("div",{staticClass:"game_cell_dices_left"},e._l(Math.min(t.dice,4),(function(e,t){return a("div",{key:t,staticClass:"game_cell_dice"})})),0),t.dice>4?a("div",{staticClass:"game_cell_dices_right"},e._l(t.dice-4,(function(e,t){return a("div",{key:t,staticClass:"game_cell_dice"})})),0):e._e()]),t.top||t.left?e._e():a("div",{staticClass:"game_cell_corner game_cell_corner-top-left"}),t.top||t.right?e._e():a("div",{staticClass:"game_cell_corner game_cell_corner-top-right"}),t.bottom||t.right?e._e():a("div",{staticClass:"game_cell_corner game_cell_corner-bottom-right"}),t.bottom||t.left?e._e():a("div",{staticClass:"game_cell_corner game_cell_corner-bottom-left"}),a("div",{staticClass:"game_cell_chain",class:{"game_cell_chain-active":t.chain}},[e._v(e._s(t.chain))]),a("div",{staticClass:"game_cell_add"},[e._v(e._s(t.added?"+"+t.added:""))])])})),0)],1)},Xe=[],Ze=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"gamePlayers_container",class:{"gamePlayers_container-active":e.game.status>0}},[a("div",{staticClass:"gamePlayers"},e._l(e.game.players,(function(t){return a("div",{key:t.id,ref:"player"+t.id,refInFor:!0,staticClass:"gamePlayers_player"},[a("div",{staticClass:"gamePlayers_player_color",class:[{"gamePlayers_player_color-active":t.id===e.playerId},{"gamePlayers_player_color-isPlayer":t.isPlayer},"gamePlayers_player_color-"+t.id]},[a("span",[e._v(e._s(t.size))])]),t.reserve?a("div",{staticClass:"gamePlayers_player_reserve"},[a("span",{staticClass:"gamePlayers_player_reserve_icon icon icon-treasure"}),e._v(" "+e._s(t.reserve)+" ")]):e._e()])})),0)])},et=[],tt={name:"GamePlayers",computed:Object(d["c"])({game:function(e){return e.game},playerId:function(e){return e.game.player.id}}),data:function(){return{newGameDialog:!1}},methods:{},watch:{playerId:function(e){var t=this.$refs["player"+(e+1)];t&&t[0]&&t[0].scrollIntoView({behavior:"smooth",block:"center",inline:"center"})}}},at=tt,st=(a("39a6"),Object(Q["a"])(at,Ze,et,!1,null,"4d251fc3",null)),nt=st.exports,it={name:"Game",components:{GamePlayers:nt},computed:Object(d["c"])({game:function(e){return e.game},i18n:function(e){return e.i18n}}),data:function(){return{gameService:new V}},methods:Object(g["a"])(Object(g["a"])({select:function(e,t){e===this.game.selected?this.deselect():t===this.game.player.id?this.gameService.changeSelected(e):this.gameService.attack(e)},selectable:function(e){var t=this.game.board[e];if(t.owner===this.game.player.id){if(t.dice>1)return!0}else if(null!==this.game.selected){if(e===this.game.selected)return!0;if(this.game.board[this.game.selected].adjacents.includes(e))return!0}return!1},boardClick:function(e){e.stopPropagation(),this.game.status<2&&!this.game.player.isPlayer&&this.gameService.startGame()},deselect:function(){this.game.board.length<1?(this.gameService.newGame(),this.changeShowSettings(!1)):this.changeSelected(null)},connectors:function(e){var t=[],a=[!1,!1,!1,!1],s=e.id,n=e.owner;if(!e.top){var i=s-this.game.settings.size;this.game.board[i].owner===n&&(t.push("game_cell-connectTop"),a[0]=!0)}if(!e.right){var r=s+1;this.game.board[r].owner===n&&(t.push("game_cell-connectRight"),a[1]=!0)}if(!e.bottom){var o=s+this.game.settings.size;this.game.board[o].owner===n&&(t.push("game_cell-connectBottom"),a[2]=!0)}if(!e.left){var c=s-1;this.game.board[c].owner===n&&(t.push("game_cell-connectLeft"),a[3]=!0)}return e.top||a[0]||(e.right||a[1]||t.push("game_cell-connectTopRight"),e.left||a[3]||t.push("game_cell-connectTopLeft")),e.bottom||a[2]||(e.right||a[1]||t.push("game_cell-connectBottomRight"),e.left||a[3]||t.push("game_cell-connectBottomLeft")),t},isAttacked:function(e){return e===this.game.defender&&(this.game.defender+1===this.game.selected?"right game_cell-defender":this.game.defender-1===this.game.selected?"left game_cell-defender":this.game.defender<this.game.selected?"bottom game_cell-defender":this.game.defender>this.game.selected?"top game_cell-defender":void 0)},swipedLeft:function(){}},Object(d["b"])("game",["changeSelected"])),Object(d["b"])("settings",["changeShowSettings"]))},rt=it,ot=(a("8069"),Object(Q["a"])(rt,Ue,Xe,!1,null,"404500d4",null)),ct=ot.exports;i["default"].use(Ve["a"]);var lt=[{path:"/",name:"Game",component:ct},{path:"/rules",name:"Rules",component:Qe},{path:"/game",name:"Game",component:ct}],ut=new Ve["a"]({mode:"history",base:"/dicegame/",routes:lt}),gt=ut,dt=a("0086"),mt=a.n(dt),ht=a("fe3c"),ft=a.n(ht),vt=a("7707"),pt=a.n(vt);i["default"].use(mt.a),window.addEventListener("load",(function(){ft.a.attach(document.body)}),!1),pt.a.polyfill(),i["default"].config.productionTip=!1,new i["default"]({router:gt,store:z,vuetify:c,render:function(e){return e(Ie)}}).$mount("#app")},"599a":function(e,t,a){"use strict";var s=a("abc2"),n=a.n(s);n.a},"5c0b":function(e,t,a){"use strict";var s=a("9c0c"),n=a.n(s);n.a},"690d":function(e,t,a){},8069:function(e,t,a){"use strict";var s=a("cc71"),n=a.n(s);n.a},"84ed":function(e,t,a){},"8caa":function(e,t,a){"use strict";var s=a("c654"),n=a.n(s);n.a},"907d":function(e,t,a){},"9c0c":function(e,t,a){},abc2:function(e,t,a){},c015:function(e,t,a){"use strict";var s=a("84ed"),n=a.n(s);n.a},c654:function(e,t,a){},c828:function(e,t,a){},cb60:function(e,t,a){},cc71:function(e,t,a){},f51a:function(e,t,a){"use strict";var s=a("3729"),n=a.n(s);n.a}});
//# sourceMappingURL=app.648ed3eb.js.map